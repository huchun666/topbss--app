<ion-content>
  <!-- <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content>
    </ion-refresher-content>
  </ion-refresher> -->
  <div class="gift-list">
	<div class="gift-item" *ngFor="let item of unhandleSeflGiftArray;let i = index">
	  <dl>
		<dt><img src="{{item.imageName}}" alt=""></dt>
		<dd class="product-title">
		  <h2>{{ item.giftName }}</h2>
		  <!-- success unstart -->
		  <span class="unstart" *ngIf="item.giftType=='0' && item.status=='2'">预约兑换</span>
			<span class="success" *ngIf="item.giftType=='0' && item.status=='3'">预约成功</span>
			<span class="unstart" *ngIf="item.giftType=='1'">到店兑换</span>
		</dd>
		<dd class="reserve-phone">
		  <span>预约手机：{{ item.reservePhone }}</span>
		  <a href="tel:13761489650"><img src="../../assets/image/phone.png"></a>
		</dd>
		<dd class="member-phone" *ngIf="item.giftType=='0'">会员手机：{{ item.memberPhone }}</dd>
		<dd class="get-time">领取时间：{{ item.receiveDate | date:'yyyy-MM-dd HH:mm:ss' }}</dd>
	  </dl>
	  <div class="reserve-time" *ngIf="item.giftType=='0' && item.status=='2'">
			<div class="time-text">
				<!-- <ion-input placeholder="会员预约到店时间"></ion-input> -->
				<ion-datetime 
					placeholder="会员预约到店时间" 
					cancelText="取消" 
					doneText="确定" 
					displayFormat="YYYY-MM-DD HH:mm:ss" 
					[(ngModel)]="item.reserveShopTime">
				</ion-datetime>
				<span class="clear" *ngIf="item.reserveShopTime" (click)="clearReserveArriveTime(i)">X</span>
			</div>
			<div class="btn-time">
				<button ion-button round (touchend)="reserveAffirm(i)">预约确认</button>
			</div>
	  </div>
	  <div class="reserve-time" *ngIf="item.giftType=='0' && item.status=='3'">
		  <div class="show-time">预约到店时间：{{ item.reserveShopTime | date:'yyyy-MM-dd HH:mm:ss' }}</div>
	  </div>
	
	</div>
  </div>
  <div class="btn-selfview" (click)="goSelfgift()">
    <span>查看已兑换自提赠品</span>
	</div>
	<div class="no-data" [hidden] = "true"><!-- noData -->
		<img src="../../assets/image/nodata.png" alt="">
		<p>空空如也</p>
	</div>
	<div class="btn-noMore" [hidden] = "showNoMoreGift">
		<span>—— 没有更多赠品了 ——</span>
	</div>
  <!-- <ion-infinite-scroll (ionInfinite)="infiniteGetSelfGiftList($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll> -->
</ion-content>
